<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>

//1. vehicle
//2. parking lot
//3. parking floors
//4. ticket

class Vehicle {

    #type;
    #color;
    #regNumber


    constructor(type, color, num) {

        this.#type = type
        this.#color = color
        this.#regNumber = num

    }

    get regNumber() {

        return `MH ${this.#regNumber}`
    }

    get type(){

        return this.#type
    }

}


//car,bike,bus

//super, extends

class Car extends Vehicle {

    constructor(color, num) {

        super('Car', color, num)
    }

}


class Bike extends Vehicle {

    constructor(color, num) {

        super('Bike', color, num)
    }

}

class Bus extends Vehicle {

    constructor(color, num) {

        super('Bus', color, num)
    }

}

// let car1 = new Car('black',1234)




class ParkingLot {

    #floors;

    constructor(number) {

        this.#floors = []
        this.numberOfFloors = number

        for (let i = 0; i < number; i++) {

            this.#floors[i] = new ParkingFloor(i, number)

        }

    }

    findSlot(type) {
    // console.log('type:', type)

        //type of vehicle & empty slot 

        for (let i = 0; i < this.numberOfFloors; i++) {

            //iterating through slots

            for (let slot of this.#floors[i].parkingSpots) {

                if (slot.type === type && !slot.isBooked) {

                    return { floornumber: i, slot: slot }

                }

            }


        }


        return false;
    }


    parkVehicle(vehicle) {


         let slot = this.findSlot(vehicle.type)

        
         slot.slot.book= true;
      
         console.log("slot:",slot);

    }
}


class ParkingFloor {

    #floornumber;

    constructor(floornumber, maxFloor) {

        this.#floornumber = floornumber
        this.parkingSpots = []

        for (let i = 0; i < maxFloor; i++) {

            //depending on floornumber push vehicle

            if (i === 0) {

                this.parkingSpots.push(new Slot('Bus', i))

            }
            else if (i == 1) {

                this.parkingSpots.push(new Slot('Bike', i))
            }
            else {
                this.parkingSpots.push(new Slot('Car', i))

            }


        }



    }


}



class Slot {

    #isBooked;

    constructor(type, number) {

        //number -> floornumber
        this.number = number
        this.type = type
        this.#isBooked = false

    }

    get isBooked(){

        return this.#isBooked
    }


    set book(bool)
{

    this.#isBooked = bool
}
}
function park(){
    let p = new ParkingLot(3);
  //accept two values, .value
  if(type==="Car")  {
    var c1=new Car(name,regnumber);
  }
p.parkVehicle(c1);
}


// console.log('p:', p)
let p = new ParkingLot(3);

let c1 = new Car('Car',"MH29")
let c2 = new Car('Car',"MH35")
// console.log('c11:', c11)


let b1 = new Bike('black',999)
// console.log('b1:', b1)

p.parkVehicle(c1);
p.parkVehicle(c2);
p.parkVehicle(b1);
</script>